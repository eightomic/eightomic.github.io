<!DOCTYPE html><html lang="en"><head><title>WSP-Vortex: An Improvement to 32-Bit, Long-Period PRNGs</title><link href="https://williamstaffordparsons.github.io/wsp-vortex/" rel="canonical"><link href="/favicon.ico?1111111111" rel="icon" type="image/x-icon"><meta content="initial-scale=1,width=device-width" name="viewport"><meta charset="utf-8"><style type="text/css">a{color:#000;font-weight:bold;letter-spacing:-0.1px;text-decoration:none;transition:opacity 0.2s ease;}a:hover{opacity:0.9;}body,html{background:#fafafa;color:#000;font-family:sans-serif;font-size:14px;font-weight:normal;line-height:23px;margin:0;overflow-x:hidden;width:100%;}code{background:#f3f3f3 !important;border:2px solid #bcbcbc !important;border-radius:4px;box-sizing:border-box !important;color:#222;display:inline-block;font-family:monospace !important;font-size:11px;font-weight:normal;height:auto;line-height:18px !important;margin:6px 0 16px;max-height:800px;overflow-x:scroll;padding:30px 31px 25px !important;white-space:pre;width:100% !important;}footer{display:inline-block;margin:100px 0;width:100%;}footer ul{display:inline-block;}footer ul{margin:55px 0 0;padding:0;width:100%;}footer ul li{display:inline-block;float:left;line-height:18px;margin:0 15px 5px 0;}footer ul li a{font-size:12px;float:left;}footer .social-media a{display:block;float:left;}footer .social-media a img{height:16px;}h1,h2,h3{display:inline-block;font-weight:normal;text-transform:uppercase;width:100%;}h1{font-size:23px;letter-spacing:-0.7px;line-height:32px;margin:-6px 0 29px;}h2{font-size:19px;letter-spacing:-0.6px;line-height:42px;margin:0 0 16px;padding-top:18px;}h3{font-size:14px;letter-spacing:-0.2px;margin:13px 0 20px;}p{box-sizing:border-box;color:#555;display:inline-block;margin:0 0 15px;width:100%;}p .code,ul .code{background:#f3f3f3;border:2px solid #bcbcbc;border-radius:4px;color:#222;display:inline-block;font-family:monospace;font-size:11px;font-weight:normal;line-height:16px;margin:2px 1px;padding:4px 5px 0;}ul{list-style:none;margin:0;padding:0;}ul li{color:#555;margin-bottom:15px;}.game{background:#000;border-radius:5px;box-sizing:border-box;margin:0 0 30px;padding:21px 32px;position:relative;transition:opacity 0.2s ease;}.game:hover {opacity:0.9;}.game.no-margin-top{margin-top:5px !important;}.game a{border-radius:5px;height:100%;left:0;position:absolute;text-indent:-9999px;top:0;width:100%;}.game img{display:block;height:32px;margin:12px 0 0;width:32px;}.game h3{color:#fff;font-weight:bold;line-height:30px;margin:17px 0 0;}.game p{color:#999;margin-bottom:0;}.game .version{color:#555;display:block;font-size:12px;margin:5px 0 3px;}.no-margin-bottom{margin-bottom:0 !important;}.no-margin-left{margin-left:0 !important;}.no-margin-top{margin-top:0 !important;}.section{margin-bottom:40px;position:relative;}.william-stafford-parsons-icon{float:left;margin:0 15px 9px 0;}.william-stafford-parsons-icon img{float:left;height:32px !important;margin:-3px 0 0;}</style></head><body><div style="box-sizing:border-box;margin:0 auto;max-width:720px;padding:0 25px;width:100%;"><header style="display:inline-block;padding:105px 0 70px;width:100%;"><a class="william-stafford-parsons-icon" href="/"><img src="/icon-william-stafford-parsons.jpg"></a></header><main style="min-height:280px;width:100%;"><h1>WSP-Vortex: A Fast, Non-Multiplicative, Tiny 32-Bit PRNG as an Improvement to Mersenne Twister With Better Statistical Test Results and Flexible State Sizes</h1><div class="section"><p><a href="/about/">William Stafford Parsons</a> is developing a 32-bit pseudorandom number generator algorithm as a significant improvement to Mersenne Twister.</p><p class="no-margin-bottom">It's currently being reviewed and tested extensively for statistical quality issues across multiple period sizes before finalizing the <span class="code">s->increment_offset</span> shift values.</p></div><div class="section"><h2>Library</h2><h3 class="no-margin-top">Source</h3><code>#include &lt;stdint.h&gt;

struct wsp_vortex_s {
  uint32_t blocks[1024];
  uint32_t blocks_selector;
  uint32_t increment;
  uint32_t increment_offset;
};

void wsp_vortex_initialize(uint32_t seed, struct wsp_vortex_s *s) {
  unsigned short i = 1;

  s->blocks[0] = seed + 1111111111;

  while (i != 1024) {
    s->blocks[i] = s->blocks[i - 1] + 1;
    i++;
  }

  s->blocks_selector = seed;
  s->increment = s->blocks_selector + seed;
  s->increment_offset = s->increment + seed;
}

uint32_t wsp_vortex_randomize(struct wsp_vortex_s *s) {
  uint32_t block = s->blocks[s->blocks_selector & 1023];
  uint32_t increment_offset_capture = s->increment_offset ^ s->increment;

  s->blocks[s->blocks_selector & 1023] += increment_offset_capture;
  s->increment_offset = ((s->increment_offset << 16)
    | (s->increment_offset >> 16)) + s->increment;
  s->increment += 1111111111;
  s->blocks_selector++;
  block += s->increment + increment_offset_capture;
  s->blocks[block & 1023] += s->blocks_selector + block;
  return block;
}</code><h3>Reference</h3><p><span class="code no-margin-left">wsp_vortex_initialize()</span> is the initialization function that accepts the following 2 arguments.</p><p><span class="code no-margin-left">seed</span> is a 32-bit unsigned integer with any value that's used to initialize the state.</p><p><span class="code no-margin-left">s</span> is a <span class="code">struct wsp_vortex_s</span> pointer.</p><p><span class="code no-margin-left">wsp_vortex_randomize()</span> is the randomization function that accepts the following argument.</p><p><span class="code no-margin-left">s</span> is a <span class="code">struct wsp_vortex_s</span> pointer with 1 array of 1024 32-bit unsigned integers in <span class="code">s->blocks</span> and 3 32-bit unsigned integers in <span class="code">s->blocks_selector</span>, <span class="code">s->increment</span> and <span class="code">s->increment_offset</span>. These can be initialized manually with any seed values or automatically with <span class="code">wsp_vortex_initialize()</span>.</p><p>The return value data type is <span class="code">uint32_t</span>.</p><p>It returns the 32-bit unsigned integer pseudorandom number result.</p><h3>Requirements</h3><p>C compiler with C99 (ISO/IEC 9899:1999) standard compatibility.</p><p class="no-margin-bottom">CPU with single-threaded, instruction-level parallelism support.</p></div><div class="section"><h2>Explanation</h2><p class="no-margin-bottom">The explanation is coming soon.</p></div><div class="no-margin-bottom section"><h2>Games</h2><div class="game no-margin-bottom no-margin-top"><a href="/contrivity/">Contrivity</a><img alt="Contrivity Icon" src="/icon-contrivity.jpg"><h3>Contrivity</h3><p>Spawn into the hostile quantum laboratory and destroy wave after wave of oscillations.</p><span class="version">v1.0.21</span></div></div></main><footer><div class="no-margin-bottom"><p>&copy; 2024 William Stafford Parsons</p><ul><li><a href="/about/">About</a></li><li><a href="/contact/">Contact</a></li><li><a href="/#games">Games</a></li><li><a href="/#research">Research</a></li></ul><ul class="social-media"><li><a href="https://github.com/williamstaffordparsons" target="_blank"><img src="/icon-github.jpg"></a></li><li><a href="https://www.instagram.com/williamstaffordparsons" target="_blank"><img src="/icon-instagram.jpg"></a></li></ul><p style="color:#777;font-size:12px;line-height:19px;margin:52px 0 0;">All depictions of peril in games by William Stafford Parsons are for fictional gaming entertainment purposes only. Some of the aforementioned games may have frantic animations which may cause discomfort and seizures for players with epilepsy or other sensitivity disorders. Prolongued periods of looking at a computer screen and typing on a keyboard are discouraged to prevent health issues such as carpal tunnel syndrome.</p></div></footer></div></body></html>
